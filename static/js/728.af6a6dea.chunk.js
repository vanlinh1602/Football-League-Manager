"use strict";(self.webpackChunkfootball_league_manager=self.webpackChunkfootball_league_manager||[]).push([[728],{5274:(e,t,n)=>{n.d(t,{h:()=>r,P:()=>a.Z});var i=n(9609),l=n(184);const r=e=>{let{content:t}=e;return(0,l.jsx)(i.Z,{style:{backgroundColor:"white",marginBottom:5,height:64},children:t})};var a=n(8852)},2010:(e,t,n)=>{n.d(t,{h:()=>x});var i=n(9949),l=n(3644),r=n(3085),a=n(763),s=n.n(a),d=n(7780),o=n(2999),c=n(8996),h=n(3442);function*y(e){try{const t=e.payload,n=yield o.k.post("api/getPlayers",{team:t});if("ok"===n.kind)if(n.data.length){const e=s().keyBy(n.data,"id");yield(0,d.gz)(l.Nw.fetchPlayers({team:t,players:e}))}else yield(0,d.gz)(l.Nw.fetchPlayers());else yield(0,d.gz)(l.Nw.fetchPlayers()),r.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,c.Z)(n)})}catch(t){yield(0,d.gz)(l.Nw.fetchPlayers()),r.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,c.Z)(t)})}}function*g(e){try{const t=e.payload,{team:n,id:i}=t,a=yield(0,d.Ys)((e=>(0,h.$)(e,n))),y=yield o.k.post("api/updatePlayer",{data:t});if("ok"===y.kind){const e=s().cloneDeep(a);s().set(e,[i],t),yield(0,d.gz)(l.Nw.fetchPlayers({team:n,players:e}))}else yield(0,d.gz)(l.Nw.fetchPlayers()),r.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadt",description:(0,c.Z)(y)})}catch(t){yield(0,d.gz)(l.Nw.fetchPlayers()),r.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadp",description:(0,c.Z)(t)})}}function*u(){yield(0,d.$6)([(0,d.ib)(l.Nw.getPlayers.type,y),(0,d.ib)(l.Nw.updatePlayer.type,g)])}const x=()=>((0,i.v)({key:l.Jy,reducer:l.I6}),(0,i.h)({key:l.Jy,saga:u}),{actions:l.Nw})},3644:(e,t,n)=>{n.d(t,{E3:()=>l,I6:()=>d,Jy:()=>s,Nw:()=>a});var i=n(3407);const l={handling:!1},r=(0,i.o)({name:"playerStore",initialState:l,reducers:{fetchPlayers(e,t){if(e.handling=!1,t.payload){const{team:n,players:i}=t.payload;e.data={...e.data,[n]:i}}},getPlayers(e,t){e.handling=!0},updatePlayer(e,t){e.handling=!0}}}),{actions:a,name:s,reducer:d}=r},3442:(e,t,n)=>{n.d(t,{$:()=>d,Eh:()=>a});var i=n(6916),l=n(3644);const r=e=>(null===e||void 0===e?void 0:e.playerStore)||l.E3,a=(0,i.P1)([r],(e=>e.handling)),s=(0,i.P1)([r],(e=>e.data)),d=(0,i.P1)([s,(e,t)=>t],((e,t)=>null===e||void 0===e?void 0:e[t]))},8216:(e,t,n)=>{n.d(t,{b:()=>s,w:()=>a});var i=n(6916),l=n(379);const r=e=>(null===e||void 0===e?void 0:e.teamStore)||l.E3,a=(0,i.P1)([r],(e=>e.handling)),s=(0,i.P1)([r],(e=>e.data))},6830:(e,t,n)=>{n.d(t,{BX:()=>i,U3:()=>r,rG:()=>l});const i=[["#E54D24","#DDB249"],["#ED4264","#FFEDBC"],["#6D53DC","#DB8282"],["#539566","#72A5C2"],["#8D60BE","#F2D49E"],["#A446A4","#83A5BE"],["#6D53DC","#DC5356"],["#D9B967","#8EC3A7"],["#F08686","#9CC495"]],l={GK:"Goalkeeper",CB:"Center back",WB:"Wing back",CDM:"Defensive Midfielder",CM:"Central Midfielder",ST:"Striker",W:"Winger"},r={shots:"Shots",goals:"Goals",offSide:"Offside",cornerKick:"Corner Kick",errors:"Errors",redCard:"Red Card",yellowCard:"Yellow Card"}},1728:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var i=n(6106),l=n(914),r=n(5637),a=n(3734),s=n(7309),d=n(3085),o=n(5671),c=n(5274),h=n(7747),y=n(2910),g=n(3020),u=n(6830),x=n(763),j=n.n(x),p=n(2426),Z=n.n(p),m=n(184);const f=e=>{let{info:t,handleEdit:n}=e;const a=u.BX[j().random(0,u.BX.length-1)],{name:s,avatar:d,birthday:o,role:c}=t;return(0,m.jsx)(y.Z,{style:{width:"90%",margin:"20px",borderRadius:"20px",backgroundImage:"linear-gradient(to bottom right, ".concat(a[0],", ").concat(a[1],")"),overflow:"hidden"},bodyStyle:{borderRadius:12},cover:(0,m.jsx)("img",{alt:"",src:d,style:{height:200,objectFit:"cover"}}),actions:[(0,m.jsxs)(g.Z,{content:"Ch\u1ec9nh s\u1eeda th\xf4ng tin",children:[(0,m.jsx)(h.Z,{onClick:n},"edit"),","]})],children:(0,m.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",textAlign:"center",flexDirection:"column"},children:[(0,m.jsx)(l.Z,{style:{marginBottom:5},children:(0,m.jsx)(r.Z,{style:{fontWeight:"bold",fontSize:24,color:"white"},children:s})}),(0,m.jsxs)(i.Z,{justify:"space-between",style:{width:"100%",textAlign:"center"},children:[(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(r.Z,{children:"Age"}),(0,m.jsx)(r.Z,{style:{fontWeight:"bold"},children:Z()().year()-Z()(o).year()})]}),(0,m.jsxs)(l.Z,{style:{paddingLeft:15},children:[(0,m.jsx)(r.Z,{children:"Position"}),(0,m.jsx)(r.Z,{style:{fontWeight:"bold"},children:u.rG[c]})]}),(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(r.Z,{children:"Contry"}),(0,m.jsx)(r.Z,{style:{fontWeight:"bold"},children:"VN"})]})]})]})})};var v=n(2932),b=n(6784),w=n(2105),C=n(4322),k=n(222),P=n(2010),D=n(2791),E=n(9434),S=n(946),B=n(326);const N=e=>{var t;let{info:n,onClose:r}=e;const d=(0,E.I0)(),{actions:o}=(0,P.h)(),[c]=v.Z.useForm(),[h,y]=(0,D.useState)(n.avatar||"");return(0,m.jsx)(b.Z,{width:700,open:!0,title:"".concat(n.id?"S\u1eeda":"Th\xeam"," c\u1ea7u th\u1ee7"),onCancel:r,footer:[(0,m.jsx)(s.Z,{type:"primary",onClick:async()=>{try{const e=await c.validateFields();if(!h)return void b.Z.warn({title:"Thi\u1ebfu th\xf4ng tin",content:"Vui l\xf2ng ch\u1ecdn h\xecnh \u1ea3nh"});e.birthday&&(e.birthday=e.birthday.valueOf());const t={...n,...e,avatar:h};t.id||(t.id=(0,S.y)()),d(o.updatePlayer(t)),r()}catch{}},children:"L\u01b0u"})],children:(0,m.jsxs)(v.Z,{form:c,layout:"vertical",initialValues:null!==(t={...n,birthday:n.birthday?Z()(n.birthday):""})&&void 0!==t?t:{},children:[(0,m.jsxs)(i.Z,{gutter:10,children:[(0,m.jsx)(l.Z,{span:8,children:(0,m.jsx)(w.Z.Dragger,{name:"file",accept:"image/*",height:240,listType:"picture",showUploadList:!1,beforeUpload:async e=>{const t=await(0,B.y)(e);y(t)},children:h?(0,m.jsx)("img",{src:h,alt:"avatar",style:{width:"100%"}}):(0,m.jsx)("div",{children:"Th\xeam h\xecnh \u1ea3nh"})})}),(0,m.jsxs)(l.Z,{span:16,children:[(0,m.jsx)(v.Z.Item,{name:"name",label:"T\xean",rules:[{required:!0}],children:(0,m.jsx)(C.Z,{})}),(0,m.jsx)(v.Z.Item,{name:"birthday",label:"Ng\xe0y sinh",children:(0,m.jsx)(k.Z,{style:{width:"100%"},format:"D/M/Y"})}),(0,m.jsx)(v.Z.Item,{name:"role",label:"Vai tr\xf2",rules:[{required:!0}],children:(0,m.jsx)(a.Z,{options:Object.entries(u.rG).map((e=>{let[t,n]=e;return{label:n,value:t}}))})})]})]}),(0,m.jsx)(i.Z,{children:(0,m.jsx)(l.Z,{span:24,children:(0,m.jsx)(v.Z.Item,{name:"description",label:"M\xf4 t\u1ea3",children:(0,m.jsx)(C.Z.TextArea,{style:{width:"100%"}})})})})]})})};var A=n(3442),I=n(8216),T=n(7689);const z=()=>{const{team:e}=(0,T.UO)(),t=(0,E.I0)(),{actions:n}=(0,P.h)(),h=(0,E.v9)(I.b),y=(0,E.v9)(A.Eh),g=(0,E.v9)(I.w),[u,x]=(0,D.useState)(e||""),[j,p]=(0,D.useState)(),Z=(0,E.v9)((e=>(0,A.$)(e,u)));return(0,D.useEffect)((()=>{e&&!Z&&t(n.getPlayers(u))}),[]),(0,m.jsxs)("div",{children:[g||y?(0,m.jsx)(c.P,{}):null,j?(0,m.jsx)(N,{info:j,onClose:()=>p(void 0)}):null,(0,m.jsx)(c.h,{content:(0,m.jsxs)(i.Z,{align:"middle",justify:"space-between",children:[(0,m.jsx)(l.Z,{children:(0,m.jsx)(r.Z.Title,{level:4,children:"Danh s\xe1ch c\u1ea7u th\u1ee7"})}),(0,m.jsx)(l.Z,{children:(0,m.jsxs)(i.Z,{gutter:10,align:"middle",children:[(0,m.jsx)(l.Z,{children:"Ch\u1ecdn \u0111\u1ed9i"}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(a.Z,{value:u,options:Object.values(null!==h&&void 0!==h?h:{}).map((e=>({label:e.name,value:e.id}))),style:{width:150},onChange:e=>x(e)})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(s.Z,{type:"primary",onClick:()=>{t(n.getPlayers(u))},children:"T\xecm ki\u1ebfm"})}),(0,m.jsx)(l.Z,{style:{float:"right",position:"relative"},children:(0,m.jsx)(s.Z,{type:"text",style:{backgroundColor:"#82c91e",color:"white"},onClick:()=>{u?p({team:u}):d.Z.warning({message:"Vui l\xf2ng ch\u1ecdn \u0111\u1ed9i b\xf3ng"})},children:"Th\xeam c\u1ea7u th\u1ee7"})})]})})]})}),(0,m.jsx)(o.Z,{style:{overflowY:"scroll",height:window.innerHeight-100},children:(0,m.jsx)(i.Z,{children:Object.values(null!==Z&&void 0!==Z?Z:{}).map((e=>(0,m.jsx)(l.Z,{span:6,children:(0,m.jsx)(f,{info:e,handleEdit:()=>p(e)})})))})})]})}},946:(e,t,n)=>{n.d(t,{y:()=>l});n(763),n(2426);var i=n(5984);const l=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="".concat(null!==(e=a.prefix)&&void 0!==e?e:"").concat((0,i.x0)(r)).concat(null!==(t=a.suffix)&&void 0!==t?t:"");return n.includes(s)?l(n,r,a):s}},326:(e,t,n)=>{n.d(t,{y:()=>i});const i=e=>new Promise(((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result.toString()),i.onerror=e=>n(e)}))}}]);
//# sourceMappingURL=728.af6a6dea.chunk.js.map