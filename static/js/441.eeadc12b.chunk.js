"use strict";(self.webpackChunkfootball_league_manager=self.webpackChunkfootball_league_manager||[]).push([[441],{5274:(e,t,n)=>{n.d(t,{h:()=>r,P:()=>s.Z});var i=n(9609),a=n(184);const r=e=>{let{content:t}=e;return(0,a.jsx)(i.Z,{style:{backgroundColor:"white",marginBottom:5,height:64},children:t})};var s=n(8852)},3757:(e,t,n)=>{n.d(t,{s:()=>x});var i=n(9949),a=n(4203),r=n(3085),s=n(763),l=n.n(s),c=n(7780),o=n(5801),d=n(8996);function*h(){try{const e=yield o.k.post("api/getLeagues",{});if("ok"===e.kind)if(e.data.length){const t=l().keyBy(e.data,"id");yield(0,c.gz)(a.Nw.fetchLeagues(t))}else yield(0,c.gz)(a.Nw.fetchLeagues({}));else yield(0,c.gz)(a.Nw.fetchLeagues({})),r.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,d.Z)(e)})}catch(e){yield(0,c.gz)(a.Nw.fetchLeagues({})),r.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,d.Z)(e)})}}function*u(e){try{const t=e.payload,n=yield o.k.post("api/updateLeague",{data:t});"ok"===n.kind?yield(0,c.gz)(a.Nw.fetchLeagues({[t.id]:t})):(yield(0,c.gz)(a.Nw.fetchLeagues({})),r.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadt",description:(0,d.Z)(n)}))}catch(t){yield(0,c.gz)(a.Nw.fetchLeagues({})),r.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadp",description:(0,d.Z)(t)})}}function*g(){yield(0,c.$6)([(0,c.ib)(a.Nw.getLeagues.type,h),(0,c.ib)(a.Nw.updateLeague.type,u)])}const x=()=>((0,i.v)({key:a.Jy,reducer:a.I6}),(0,i.h)({key:a.Jy,saga:g}),{actions:a.Nw})},4203:(e,t,n)=>{n.d(t,{E3:()=>a,I6:()=>c,Jy:()=>l,Nw:()=>s});var i=n(3407);const a={handling:!1},r=(0,i.o)({name:"leagueStore",initialState:a,reducers:{fetchLeagues(e,t){e.handling=!1,e.data={...e.data,...t.payload}},getLeagues(e){e.handling=!0},updateLeague(e,t){e.handling=!0}}}),{actions:s,name:l,reducer:c}=r},6452:(e,t,n)=>{n.d(t,{L:()=>s,N:()=>l});var i=n(6916),a=n(4203);const r=e=>(null===e||void 0===e?void 0:e.leagueStore)||a.E3,s=(0,i.P1)([r],(e=>e.handling)),l=(0,i.P1)([r],(e=>e.data))},8216:(e,t,n)=>{n.d(t,{b:()=>l,w:()=>s});var i=n(6916),a=n(379);const r=e=>(null===e||void 0===e?void 0:e.teamStore)||a.E3,s=(0,i.P1)([r],(e=>e.handling)),l=(0,i.P1)([r],(e=>e.data))},7441:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var i=n(6106),a=n(914),r=n(5637),s=n(7309),l=n(5671),c=n(5274),o=n(792),d=n(7747),h=n(2910),u=n(3020),g=n(2426),x=n.n(g),Z=n(7689),j=n(184);const m=e=>{let{info:t,handleEdit:n}=e;const a=(0,Z.s0)();return(0,j.jsx)(h.Z,{style:{width:300,margin:"20px",borderRadius:"20px",overflow:"hidden"},bodyStyle:{borderRadius:12},cover:(0,j.jsx)("img",{alt:"",src:t.image,style:{height:200,objectFit:"cover"}}),actions:[(0,j.jsx)(u.Z,{content:"Xem c\xe1c tr\u1eadn \u0111\u1ea5u",children:(0,j.jsx)(o.Z,{onClick:()=>a("/matches/".concat(t.id))},"view")}),(0,j.jsxs)(u.Z,{content:"Ch\u1ec9nh s\u1eeda th\xf4ng tin",children:[(0,j.jsx)(d.Z,{onClick:n},"edit"),","]})],children:(0,j.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,j.jsx)(i.Z,{children:(0,j.jsx)(r.Z.Title,{level:5,children:t.name})}),(0,j.jsx)(i.Z,{children:(0,j.jsx)(r.Z,{children:"".concat(x()(t.start).format("DD/MM/YYYY")," - ").concat(x()(t.end).format("DD/MM/YYYY"))})})]})})};var f=n(7462),y=n(2791),p=n(7042),v=n(2035),w=function(e,t){return y.createElement(v.Z,(0,f.Z)({},e,{ref:t,icon:p.Z}))};const b=y.forwardRef(w);var L=n(9259),k=function(e,t){return y.createElement(v.Z,(0,f.Z)({},e,{ref:t,icon:L.Z}))};const C=y.forwardRef(k);var N=n(2932),S=n(6784),T=n(3734),I=n(2105),Y=n(4322),D=n(222),M=n(7060),R=n(3757),z=n(8216),E=n(763),F=n.n(E),P=n(9434),O=n(946),q=n(326);const _=e=>{let{teamOptions:t,onCancel:n,onConfirm:i}=e;const[a]=N.Z.useForm();return(0,j.jsx)(S.Z,{title:"Ch\u1ecdn \u0111\u1ed9i b\xf3ng",open:!0,onCancel:n,footer:[(0,j.jsx)(s.Z,{onClick:n,children:"Hu\u1ef7"}),(0,j.jsx)(s.Z,{type:"primary",onClick:async()=>{try{const{id:e}=await a.validateFields();i(e),n()}catch(e){}},children:"L\u01b0u"})],children:(0,j.jsx)(N.Z,{form:a,children:(0,j.jsx)(N.Z.Item,{name:"id",children:(0,j.jsx)(T.Z,{options:t})})})})},J=e=>{var t;let{info:n,onClose:l}=e;const c=(0,P.I0)(),{actions:o}=(0,R.s)(),d=(0,P.v9)(z.b),[h]=N.Z.useForm(),[g,Z]=(0,y.useState)(n.image||""),[m,f]=(0,y.useState)(null!==(t=n.participants)&&void 0!==t?t:[]),[p,v]=(0,y.useState)(!1),w=(0,y.useMemo)((()=>Object.values(null!==d&&void 0!==d?d:{}).map((e=>{let{id:t,logo:n,name:i}=e;return{label:i,value:t,logo:n}})).filter((e=>{let{value:t}=e;return!m.includes(t)}))),[d,m]),L=(0,y.useMemo)((()=>[{title:"STT",width:50,render:(e,t,n)=>n+1},{title:(0,j.jsxs)(i.Z,{justify:"space-between",children:[(0,j.jsx)(a.Z,{children:(0,j.jsx)(r.Z,{children:"\u0110\u1ed9i tham gia"})}),(0,j.jsx)(a.Z,{children:(0,j.jsx)(u.Z,{content:"Th\xeam \u0111\u1ed9i b\xf3ng",children:(0,j.jsx)(b,{style:{color:"#94d82d"},onClick:()=>v(!0)})})})]}),dataIndex:"name",render:(e,t)=>(0,j.jsxs)(i.Z,{justify:"space-between",align:"middle",children:[(0,j.jsx)(a.Z,{children:(0,j.jsxs)(i.Z,{align:"middle",gutter:5,children:[(0,j.jsx)(a.Z,{children:(0,j.jsx)("img",{style:{borderRadius:48},width:40,src:t.logo,alt:""})}),(0,j.jsx)(a.Z,{children:(0,j.jsx)("b",{children:t.name})})]})}),(0,j.jsx)(a.Z,{children:(0,j.jsx)(u.Z,{content:"Xo\xe1 \u0111\u1ed9i b\xf3ng",children:(0,j.jsx)(C,{style:{color:"#ff2500"},size:24,onClick:()=>f((e=>e.filter((e=>e!==t.id))))})})})]})}]),[]);return(0,j.jsxs)(S.Z,{width:700,open:!0,title:"".concat(n.id?"S\u1eeda th\xf4ng tin":"Th\xeam"," gi\u1ea3i \u0111\u1ea5u"),onCancel:l,footer:[(0,j.jsx)(s.Z,{type:"primary",onClick:async()=>{try{const e=await h.validateFields(),t={...n,...e,start:x()(e.start).valueOf(),end:x()(e.end).valueOf(),image:g,participants:m};t.id||(t.id=(0,O.y)()),c(o.updateLeague(t)),l()}catch{}},children:"L\u01b0u"})],children:[p?(0,j.jsx)(_,{teamOptions:w,onCancel:()=>v(!1),onConfirm:e=>{f((t=>F().uniq([...t,e])))}}):null,(0,j.jsx)(N.Z,{form:h,layout:"vertical",initialValues:{...n,start:n.start?x()(n.start):"",end:n.end?x()(n.end):""},children:(0,j.jsxs)(i.Z,{gutter:10,children:[(0,j.jsx)(a.Z,{span:8,children:(0,j.jsx)(I.Z.Dragger,{name:"file",accept:"image/*",height:240,listType:"picture",showUploadList:!1,beforeUpload:async e=>{const t=await(0,q.y)(e);Z(t)},children:g?(0,j.jsx)("img",{src:g,alt:"avatar",style:{width:"100%"}}):(0,j.jsx)("div",{children:"Th\xeam h\xecnh \u1ea3nh"})})}),(0,j.jsxs)(a.Z,{span:16,children:[(0,j.jsx)(N.Z.Item,{name:"name",label:"T\xean gi\u1ea3i \u0111\u1ea5u",rules:[{required:!0}],children:(0,j.jsx)(Y.Z,{})}),(0,j.jsx)(N.Z.Item,{name:"start",label:"Ng\xe0y b\u1eaft \u0111\u1ea7u",rules:[{required:!0}],children:(0,j.jsx)(D.Z,{style:{width:"100%"},format:"D/M/Y"})}),(0,j.jsx)(N.Z.Item,{name:"end",label:"Ng\xe0y k\u1ebft th\xfac",rules:[{required:!0}],children:(0,j.jsx)(D.Z,{style:{width:"100%"},format:"D/M/Y"})}),(0,j.jsx)(N.Z.Item,{name:"description",label:"M\xf4 t\u1ea3",rules:[{required:!0}],children:(0,j.jsx)(Y.Z.TextArea,{})})]})]})}),(0,j.jsx)(M.Z,{columns:L,dataSource:m.map((e=>d[e]))})]})};var U=n(6452);const A=()=>{const e=(0,P.I0)(),{actions:t}=(0,R.s)(),n=(0,P.v9)(U.L),o=(0,P.v9)(U.N),[d,h]=(0,y.useState)();return(0,j.jsxs)("div",{children:[n?(0,j.jsx)(c.P,{}):null,d?(0,j.jsx)(J,{info:d,onClose:()=>h(void 0)}):null,(0,j.jsx)(c.h,{content:(0,j.jsxs)(i.Z,{justify:"space-between",children:[(0,j.jsx)(a.Z,{children:(0,j.jsx)(r.Z.Title,{level:4,children:"Football Leagues"})}),(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(s.Z,{type:"primary",style:{marginRight:10},onClick:()=>{e(t.getLeagues())},children:"Tra c\u1ee9u"}),(0,j.jsx)(s.Z,{type:"text",style:{backgroundColor:"#82c91e",color:"white"},onClick:()=>h({}),children:"Th\xeam gi\u1ea3i \u0111\u1ea5u"})]})]})}),(0,j.jsx)(l.Z,{style:{overflowY:"scroll",height:window.innerHeight-100},children:(0,j.jsx)(i.Z,{children:Object.values(null!==o&&void 0!==o?o:{}).map((e=>(0,j.jsx)(a.Z,{span:6,children:(0,j.jsx)(m,{info:e,handleEdit:()=>h(e)})})))})})]})}},946:(e,t,n)=>{n.d(t,{y:()=>a});n(763),n(2426);var i=n(5984);const a=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l="".concat(null!==(e=s.prefix)&&void 0!==e?e:"").concat((0,i.x0)(r)).concat(null!==(t=s.suffix)&&void 0!==t?t:"");return n.includes(l)?a(n,r,s):l}},326:(e,t,n)=>{n.d(t,{y:()=>i});const i=e=>new Promise(((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result.toString()),i.onerror=e=>n(e)}))},792:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(7462),a=n(2791),r=n(3785),s=n(2035),l=function(e,t){return a.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:r.Z}))};const c=a.forwardRef(l)}}]);
//# sourceMappingURL=441.eeadc12b.chunk.js.map