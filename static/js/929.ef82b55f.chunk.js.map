{"version":3,"file":"static/js/929.ef82b55f.chunk.js","mappings":"mLAMA,MAMA,EANeA,IAAA,IAAC,QAAEC,GAAgBD,EAAA,OAChCE,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,MAAO,CAAEC,gBAAiB,QAASC,aAAc,EAAGC,OAAQ,IAAKC,SAC1EP,GACU,E,4KCCf,MAoEA,EApE4BQ,KAC1B,MAAMC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,GACrBC,GAAeF,EAAAA,EAAAA,IAAYG,EAAAA,GAE3BC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACJP,GACFK,EAAS,IACX,GACC,CAACL,EAAQK,IAEZ,MAAMG,GAAYC,EAAAA,EAAAA,UAA0C,KAC1D,MAAMC,EAAiB,IAAIC,EAAAA,GAI3B,OAHAD,EAAeE,oBAAoB,CACjCC,OAAQ,mBAEH,CACLC,OAAQJ,EACT,GACA,IAmBH,OACEK,EAAAA,EAAAA,MAAA,OACErB,MAAO,CACLsB,gBAAgB,OAADC,OAASC,EAAAA,GAAO,2BAC/BC,eAAgB,QAChBC,mBAAoB,SACpBC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZ1B,OAAQ,SACRC,SAAA,CAEDK,GAAeX,EAAAA,EAAAA,KAACgC,EAAAA,EAAO,IAAM,MAC9BhC,EAAAA,EAAAA,KAAA,OAAAM,UACEN,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CACL/B,MAAO,CAAEgC,aAAc,IACvBC,KAAK,QACLC,QAAM,EACNC,KAAK,UACLC,QAASA,KAAMC,OApCTC,EAoCc,cAnC1BC,EAAAA,EAAAA,KAAgBC,EAAAA,EAAAA,MAAW1B,EAAUwB,IAAWG,OAAOC,IAChDA,IACc,kDAAfA,EAAMC,KACRC,EAAAA,EAAaF,MAAM,CACjBG,QAAS,8CACTC,YAAa,mDAGfF,EAAAA,EAAaF,MAAM,CACjBG,QAAS,8CACTC,YAAaJ,EAAMG,UAEvB,IAbUP,KAoCwB,EAC9BS,MAAMjD,EAAAA,EAAAA,KAACkD,EAAAA,IAAQ,IAAI5C,SACpB,0BAIC,C","sources":["components/Header/index.tsx","pages/Login/index.tsx"],"sourcesContent":["import { PageHeader } from 'antd';\n\ntype Props = {\n  content: any;\n};\n\nconst Header = ({ content }: Props) => (\n  <PageHeader style={{ backgroundColor: 'white', marginBottom: 5, height: 64 }}>\n    {content}\n  </PageHeader>\n);\n\nexport default Header;\n","import { Button, notification } from 'antd';\nimport { Waiting } from 'components';\nimport { BACKEND } from 'configs';\nimport { selectUserHandling, selectUserId } from 'features/user/store/selectors';\nimport { getAuth, GoogleAuthProvider, signInWithPopup } from 'firebase/auth';\nimport React, { useEffect, useMemo } from 'react';\nimport { FaGoogle } from 'react-icons/fa6';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nconst LoginPage: React.FC = () => {\n  const userId = useSelector(selectUserId);\n  const userHandling = useSelector(selectUserHandling);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (userId) {\n      navigate('/');\n    }\n  }, [userId, navigate]);\n\n  const providers = useMemo<CustomObject<GoogleAuthProvider>>(() => {\n    const googleProvider = new GoogleAuthProvider();\n    googleProvider.setCustomParameters({\n      prompt: 'select_account',\n    });\n    return {\n      google: googleProvider,\n    };\n  }, []);\n\n  const auth = (provider: string) => {\n    signInWithPopup(getAuth(), providers[provider]).catch((error) => {\n      if (!error) return;\n      if (error.code === 'auth/account-exists-with-different-credential') {\n        notification.error({\n          message: 'Đăng nhập thất bại',\n          description: 'Tài khoản đã tồn tại',\n        });\n      } else {\n        notification.error({\n          message: 'Đăng nhập thất bại',\n          description: error.message,\n        });\n      }\n    });\n  };\n\n  return (\n    <div\n      style={{\n        backgroundImage: `url(${BACKEND}/images/background.png)`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n      }}\n    >\n      {userHandling ? <Waiting /> : null}\n      <div>\n        <Button\n          style={{ borderRadius: 20 }}\n          size=\"large\"\n          danger\n          type=\"primary\"\n          onClick={() => auth('google')}\n          icon={<FaGoogle />}\n        >\n          Login with google\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":["_ref","content","_jsx","PageHeader","style","backgroundColor","marginBottom","height","children","LoginPage","userId","useSelector","selectUserId","userHandling","selectUserHandling","navigate","useNavigate","useEffect","providers","useMemo","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","google","_jsxs","backgroundImage","concat","BACKEND","backgroundSize","backgroundPosition","display","justifyContent","alignItems","Waiting","Button","borderRadius","size","danger","type","onClick","auth","provider","signInWithPopup","getAuth","catch","error","code","notification","message","description","icon","FaGoogle"],"sourceRoot":""}