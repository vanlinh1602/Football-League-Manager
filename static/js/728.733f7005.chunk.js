"use strict";(self.webpackChunkfootball_league_manager=self.webpackChunkfootball_league_manager||[]).push([[728],{5274:(e,t,n)=>{n.d(t,{h:()=>a,P:()=>r.Z});var i=n(9609),l=n(184);const a=e=>{let{content:t}=e;return(0,l.jsx)(i.Z,{style:{backgroundColor:"white",marginBottom:5,height:64},children:t})};var r=n(8852)},2010:(e,t,n)=>{n.d(t,{h:()=>x});var i=n(9949),l=n(3644),a=n(3085),r=n(763),s=n.n(r),d=n(7780),o=n(2999),c=n(8996),h=n(3442);function*y(e){try{const t=e.payload,n=yield o.k.post("api/getPlayers",{team:t});if("ok"===n.kind)if(n.data.length){const e=s().keyBy(n.data,"id");yield(0,d.gz)(l.Nw.fetchPlayers({team:t,players:e}))}else yield(0,d.gz)(l.Nw.fetchPlayers());else yield(0,d.gz)(l.Nw.fetchPlayers()),a.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,c.Z)(n)})}catch(t){yield(0,d.gz)(l.Nw.fetchPlayers()),a.Z.error({message:"L\u1ed7i tra c\u1ee9u",description:(0,c.Z)(t)})}}function*g(e){try{const t=e.payload,{team:n,id:i}=t,r=yield(0,d.Ys)((e=>(0,h.$)(e,n))),y=yield o.k.post("api/updatePlayer",{data:t});if("ok"===y.kind){const e=s().cloneDeep(r);s().set(e,[i],t),yield(0,d.gz)(l.Nw.fetchPlayers({team:n,players:e}))}else yield(0,d.gz)(l.Nw.fetchPlayers()),a.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadt",description:(0,c.Z)(y)})}catch(t){yield(0,d.gz)(l.Nw.fetchPlayers()),a.Z.error({message:"L\u1ed7i c\u1eadp nh\u1eadp",description:(0,c.Z)(t)})}}function*u(){yield(0,d.$6)([(0,d.ib)(l.Nw.getPlayers.type,y),(0,d.ib)(l.Nw.updatePlayer.type,g)])}const x=()=>((0,i.v)({key:l.Jy,reducer:l.I6}),(0,i.h)({key:l.Jy,saga:u}),{actions:l.Nw})},3644:(e,t,n)=>{n.d(t,{E3:()=>l,I6:()=>d,Jy:()=>s,Nw:()=>r});var i=n(3407);const l={handling:!1},a=(0,i.o)({name:"playerStore",initialState:l,reducers:{fetchPlayers(e,t){if(e.handling=!1,t.payload){const{team:n,players:i}=t.payload;e.data={...e.data,[n]:i}}},getPlayers(e,t){e.handling=!0},updatePlayer(e,t){e.handling=!0}}}),{actions:r,name:s,reducer:d}=a},3442:(e,t,n)=>{n.d(t,{$:()=>d,Eh:()=>r});var i=n(6916),l=n(3644);const a=e=>(null===e||void 0===e?void 0:e.playerStore)||l.E3,r=(0,i.P1)([a],(e=>e.handling)),s=(0,i.P1)([a],(e=>e.data)),d=(0,i.P1)([s,(e,t)=>t],((e,t)=>null===e||void 0===e?void 0:e[t]))},8216:(e,t,n)=>{n.d(t,{b:()=>s,w:()=>r});var i=n(6916),l=n(379);const a=e=>(null===e||void 0===e?void 0:e.teamStore)||l.E3,r=(0,i.P1)([a],(e=>e.handling)),s=(0,i.P1)([a],(e=>e.data))},6830:(e,t,n)=>{n.d(t,{BX:()=>i,U3:()=>a,rG:()=>l});const i=[["#E54D24","#DDB249"],["#ED4264","#FFEDBC"],["#6D53DC","#DB8282"],["#539566","#72A5C2"],["#8D60BE","#F2D49E"],["#A446A4","#83A5BE"],["#6D53DC","#DC5356"],["#D9B967","#8EC3A7"],["#F08686","#9CC495"]],l={GK:"Th\u1ee7 m\xf4n",DF:"H\u1eadu v\u1ec7",CB:"Trung v\u1ec7",FB:"H\u1eadu v\u1ec7 bi\xean",DM:"Ti\u1ec1n v\u1ec7 ph\xf2ng ng\u1ef1",CM:"Ti\u1ec1n v\u1ec7 trung t\xe2m",FW:"Ti\u1ec1n \u0111\u1ea1o",winger:"Ti\u1ec1n v\u1ec7/Ti\u1ec1n \u0111\u1ea1o c\xe1nh"},a={shots:"S\xfat",goals:"Ghi b\xe0n",offSide:"Vi\u1ec7t v\u1ecb",cornerKick:"Ph\u1ea1t g\xf3c",errors:"Ph\u1ea1m l\u1ed7i",redCard:"Th\u1ebb \u0111\u1ecf",yellowCard:"Th\u1ebb v\xe0ng"}},1728:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(6106),l=n(914),a=n(5637),r=n(3734),s=n(7309),d=n(3085),o=n(5671),c=n(5274),h=n(7747),y=n(2910),g=n(3020),u=n(6830),x=n(763),j=n.n(x),v=n(2426),m=n.n(v),p=n(184);const Z=e=>{let{info:t,handleEdit:n}=e;const r=u.BX[j().random(0,u.BX.length-1)],{name:s,avatar:d,birthday:o,role:c}=t;return(0,p.jsx)(y.Z,{style:{width:"90%",margin:"20px",borderRadius:"20px",backgroundImage:"linear-gradient(to bottom right, ".concat(r[0],", ").concat(r[1],")"),overflow:"hidden"},bodyStyle:{borderRadius:12},cover:(0,p.jsx)("img",{alt:"",src:d,style:{height:200,objectFit:"cover"}}),actions:[(0,p.jsxs)(g.Z,{content:"Ch\u1ec9nh s\u1eeda th\xf4ng tin",children:[(0,p.jsx)(h.Z,{onClick:n},"edit"),","]})],children:(0,p.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",textAlign:"center",flexDirection:"column"},children:[(0,p.jsx)(l.Z,{style:{marginBottom:5},children:(0,p.jsx)(a.Z,{style:{fontWeight:"bold",fontSize:24,color:"white"},children:s})}),(0,p.jsxs)(i.Z,{justify:"space-between",style:{width:"100%",textAlign:"center"},children:[(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(a.Z,{children:"Age"}),(0,p.jsx)(a.Z,{style:{fontWeight:"bold"},children:m()().year()-m()(o).year()})]}),(0,p.jsxs)(l.Z,{style:{paddingLeft:15},children:[(0,p.jsx)(a.Z,{children:"Position"}),(0,p.jsx)(a.Z,{style:{fontWeight:"bold"},children:u.rG[c]})]}),(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(a.Z,{children:"Contry"}),(0,p.jsx)(a.Z,{style:{fontWeight:"bold"},children:"VN"})]})]})]})})};var f=n(2932),b=n(6784),w=n(2105),P=n(4322),C=n(222),k=n(2010),D=n(2791),T=n(9434),E=n(946),B=n(326);const N=e=>{var t;let{info:n,onClose:a}=e;const d=(0,T.I0)(),{actions:o}=(0,k.h)(),[c]=f.Z.useForm(),[h,y]=(0,D.useState)(n.avatar||"");return(0,p.jsx)(b.Z,{width:700,open:!0,title:"".concat(n.id?"S\u1eeda":"Th\xeam"," c\u1ea7u th\u1ee7"),onCancel:a,footer:[(0,p.jsx)(s.Z,{type:"primary",onClick:async()=>{try{const e=await c.validateFields();if(!h)return void b.Z.warn({title:"Thi\u1ebfu th\xf4ng tin",content:"Vui l\xf2ng ch\u1ecdn h\xecnh \u1ea3nh"});e.birthday&&(e.birthday=e.birthday.valueOf());const t={...n,...e,avatar:h};t.id||(t.id=(0,E.y)()),d(o.updatePlayer(t)),a()}catch{}},children:"L\u01b0u"})],children:(0,p.jsxs)(f.Z,{form:c,layout:"vertical",initialValues:null!==(t={...n,birthday:n.birthday?m()(n.birthday):""})&&void 0!==t?t:{},children:[(0,p.jsxs)(i.Z,{gutter:10,children:[(0,p.jsx)(l.Z,{span:8,children:(0,p.jsx)(w.Z.Dragger,{name:"file",accept:"image/*",height:240,listType:"picture",showUploadList:!1,beforeUpload:async e=>{const t=await(0,B.y)(e);y(t)},children:h?(0,p.jsx)("img",{src:h,alt:"avatar",style:{width:"100%"}}):(0,p.jsx)("div",{children:"Th\xeam h\xecnh \u1ea3nh"})})}),(0,p.jsxs)(l.Z,{span:16,children:[(0,p.jsx)(f.Z.Item,{name:"name",label:"T\xean",rules:[{required:!0}],children:(0,p.jsx)(P.Z,{})}),(0,p.jsx)(f.Z.Item,{name:"birthday",label:"Ng\xe0y sinh",children:(0,p.jsx)(C.Z,{style:{width:"100%"},format:"D/M/Y"})}),(0,p.jsx)(f.Z.Item,{name:"role",label:"Vai tr\xf2",rules:[{required:!0}],children:(0,p.jsx)(r.Z,{options:Object.entries(u.rG).map((e=>{let[t,n]=e;return{label:n,value:t}}))})})]})]}),(0,p.jsx)(i.Z,{children:(0,p.jsx)(l.Z,{span:24,children:(0,p.jsx)(f.Z.Item,{name:"description",label:"M\xf4 t\u1ea3",children:(0,p.jsx)(P.Z.TextArea,{style:{width:"100%"}})})})})]})})};var S=n(3442),F=n(8216),A=n(7689);const I=()=>{const{team:e}=(0,A.UO)(),t=(0,T.I0)(),{actions:n}=(0,k.h)(),h=(0,T.v9)(F.b),y=(0,T.v9)(S.Eh),g=(0,T.v9)(F.w),[u,x]=(0,D.useState)(e||""),[j,v]=(0,D.useState)(),m=(0,T.v9)((e=>(0,S.$)(e,u)));return(0,D.useEffect)((()=>{e&&!m&&t(n.getPlayers(u))}),[]),(0,p.jsxs)("div",{children:[g||y?(0,p.jsx)(c.P,{}):null,j?(0,p.jsx)(N,{info:j,onClose:()=>v(void 0)}):null,(0,p.jsx)(c.h,{content:(0,p.jsxs)(i.Z,{align:"middle",justify:"space-between",children:[(0,p.jsx)(l.Z,{children:(0,p.jsx)(a.Z.Title,{level:4,children:"Danh s\xe1ch c\u1ea7u th\u1ee7"})}),(0,p.jsx)(l.Z,{children:(0,p.jsxs)(i.Z,{gutter:10,align:"middle",children:[(0,p.jsx)(l.Z,{children:"Ch\u1ecdn \u0111\u1ed9i"}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(r.Z,{value:u,options:Object.values(null!==h&&void 0!==h?h:{}).map((e=>({label:e.name,value:e.id}))),style:{width:150},onChange:e=>x(e)})}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(s.Z,{type:"primary",onClick:()=>{t(n.getPlayers(u))},children:"T\xecm ki\u1ebfm"})}),(0,p.jsx)(l.Z,{style:{float:"right",position:"relative"},children:(0,p.jsx)(s.Z,{type:"text",style:{backgroundColor:"#82c91e",color:"white"},onClick:()=>{u?v({team:u}):d.Z.warning({message:"Vui l\xf2ng ch\u1ecdn \u0111\u1ed9i b\xf3ng"})},children:"Th\xeam c\u1ea7u th\u1ee7"})})]})})]})}),(0,p.jsx)(o.Z,{style:{overflowY:"scroll",height:window.innerHeight-100},children:(0,p.jsx)(i.Z,{children:Object.values(null!==m&&void 0!==m?m:{}).map((e=>(0,p.jsx)(l.Z,{span:6,children:(0,p.jsx)(Z,{info:e,handleEdit:()=>v(e)})})))})})]})}},946:(e,t,n)=>{n.d(t,{y:()=>l});n(763),n(2426);var i=n(5984);const l=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="".concat(null!==(e=r.prefix)&&void 0!==e?e:"").concat((0,i.x0)(a)).concat(null!==(t=r.suffix)&&void 0!==t?t:"");return n.includes(s)?l(n,a,r):s}},326:(e,t,n)=>{n.d(t,{y:()=>i});const i=e=>new Promise(((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result.toString()),i.onerror=e=>n(e)}))}}]);
//# sourceMappingURL=728.733f7005.chunk.js.map